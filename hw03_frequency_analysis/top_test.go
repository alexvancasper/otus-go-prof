package hw03frequencyanalysis

import (
	"testing"

	"github.com/stretchr/testify/require"
)

// Change to true if needed.
var taskWithAsteriskIsCompleted = false

var text = `ะะฐะบ ะฒะธะดะธัะต, ะพะฝ  ัะฟััะบะฐะตััั  ะฟะพ  ะปะตััะฝะธัะต  ะฒัะปะตะด  ะทะฐ  ัะฒะพะธะผ
	ะดััะณะพะผ   ะัะธััะพัะตัะพะผ   ะะพะฑะธะฝะพะผ,   ะณะพะปะพะฒะพะน   ะฒะฝะธะท,  ะฟะตัะตััะธััะฒะฐั
	ัััะฟะตะฝัะบะธ ัะพะฑััะฒะตะฝะฝัะผ ะทะฐััะปะบะพะผ:  ะฑัะผ-ะฑัะผ-ะฑัะผ.  ะััะณะพะณะพ  ัะฟะพัะพะฑะฐ
	ััะพะดะธัั  ั  ะปะตััะฝะธัั  ะพะฝ  ะฟะพะบะฐ  ะฝะต  ะทะฝะฐะตั.  ะะฝะพะณะดะฐ ะตะผั, ะฟัะฐะฒะดะฐ,
		ะบะฐะถะตััั, ััะพ ะผะพะถะฝะพ ะฑั ะฝะฐะนัะธ ะบะฐะบะพะน-ัะพ ะดััะณะพะน ัะฟะพัะพะฑ, ะตัะปะธ ะฑั  ะพะฝ
	ัะพะปัะบะพ   ะผะพะณ   ะฝะฐ  ะผะธะฝััะบั  ะฟะตัะตััะฐัั  ะฑัะผะบะฐัั  ะธ  ะบะฐะบ  ัะปะตะดัะตั
	ัะพััะตะดะพัะพัะธัััั. ะะพ ัะฒั - ัะพััะตะดะพัะพัะธัััั-ัะพ ะตะผั ะธ ะฝะตะบะพะณะดะฐ.
		ะะฐะบ ะฑั ัะพ ะฝะธ ะฑัะปะพ, ะฒะพั ะพะฝ ัะถะต ัะฟัััะธะปัั  ะธ  ะณะพัะพะฒ  ั  ะฒะฐะผะธ
	ะฟะพะทะฝะฐะบะพะผะธัััั.
	- ะะธะฝะฝะธ-ะัั. ะัะตะฝั ะฟัะธััะฝะพ!
		ะะฐั,  ะฒะตัะพััะฝะพ,  ัะดะธะฒะปัะตั, ะฟะพัะตะผั ะตะณะพ ัะฐะบ ัััะฐะฝะฝะพ ะทะพะฒัั, ะฐ
	ะตัะปะธ ะฒั ะทะฝะฐะตัะต ะฐะฝะณะปะธะนัะบะธะน, ัะพ ะฒั ัะดะธะฒะธัะตัั ะตัะต ะฑะพะปััะต.
		ะญัะพ ะฝะตะพะฑัะบะฝะพะฒะตะฝะฝะพะต ะธะผั ะฟะพะดะฐัะธะป ะตะผั ะัะธััะพัะตั  ะะพะฑะธะฝ.  ะะฐะดะพ
	ะฒะฐะผ  ัะบะฐะทะฐัั,  ััะพ  ะบะพะณะดะฐ-ัะพ ะัะธััะพัะตั ะะพะฑะธะฝ ะฑัะป ะทะฝะฐะบะพะผ ั ะพะดะฝะธะผ
	ะปะตะฑะตะดะตะผ ะฝะฐ ะฟััะดั, ะบะพัะพัะพะณะพ ะพะฝ ะทะฒะฐะป ะััะพะผ. ะะปั ะปะตะฑะตะดั  ััะพ  ะฑัะปะพ
	ะพัะตะฝั   ะฟะพะดัะพะดััะตะต  ะธะผั,  ะฟะพัะพะผั  ััะพ  ะตัะปะธ  ัั  ะทะพะฒะตัั  ะปะตะฑะตะดั
	ะณัะพะผะบะพ: "ะั-ัั! ะั-ัั!"- ะฐ ะพะฝ  ะฝะต  ะพัะบะปะธะบะฐะตััั,  ัะพ  ัั  ะฒัะตะณะดะฐ
	ะผะพะถะตัั  ัะดะตะปะฐัั ะฒะธะด, ััะพ ัั ะฟัะพััะพ ะฟะพะฝะฐัะพัะบั ัััะตะปัะป; ะฐ ะตัะปะธ ัั
	ะทะฒะฐะป ะตะณะพ ัะธัะพ, ัะพ ะฒัะต ะฟะพะดัะผะฐัั, ััะพ ัั  ะฟัะพััะพ  ะฟะพะดัะป  ัะตะฑะต  ะฝะฐ
	ะฝะพั.  ะะตะฑะตะดั  ะฟะพัะพะผ  ะบัะดะฐ-ัะพ ะดะตะปัั, ะฐ ะธะผั ะพััะฐะปะพัั, ะธ ะัะธััะพัะตั
	ะะพะฑะธะฝ ัะตัะธะป ะพัะดะฐัั ะตะณะพ ัะฒะพะตะผั ะผะตะดะฒะตะถะพะฝะบั, ััะพะฑั ะพะฝะพ ะฝะต  ะฟัะพะฟะฐะปะพ
	ะทัั.
		ะ  ะะธะฝะฝะธ - ัะฐะบ ะทะฒะฐะปะธ ัะฐะผัั ะปััััั, ัะฐะผัั ะดะพะฑััั ะผะตะดะฒะตะดะธัั
	ะฒ  ะทะพะพะปะพะณะธัะตัะบะพะผ  ัะฐะดั,  ะบะพัะพััั  ะพัะตะฝั-ะพัะตะฝั  ะปัะฑะธะป  ะัะธััะพัะตั
	ะะพะฑะธะฝ.  ะ  ะพะฝะฐ  ะพัะตะฝั-ะพัะตะฝั  ะปัะฑะธะปะฐ  ะตะณะพ. ะะต ะปะธ ะฝะฐะทะฒะฐะปะธ ะะธะฝะฝะธ ะฒ
	ัะตััั ะััะฐ, ะธะปะธ ะััะฐ ะฝะฐะทะฒะฐะปะธ ะฒ ะตะต ัะตััั - ัะตะฟะตัั ัะถะต ะฝะธะบัะพ  ะฝะต
	ะทะฝะฐะตั,  ะดะฐะถะต ะฟะฐะฟะฐ ะัะธััะพัะตัะฐ ะะพะฑะธะฝะฐ. ะะพะณะดะฐ-ัะพ ะพะฝ ะทะฝะฐะป, ะฐ ัะตะฟะตัั
	ะทะฐะฑัะป.
		ะกะปะพะฒะพะผ, ัะตะฟะตัั ะผะธัะบั ะทะพะฒัั ะะธะฝะฝะธ-ะัั, ะธ ะฒั ะทะฝะฐะตัะต ะฟะพัะตะผั.
		ะะฝะพะณะดะฐ ะะธะฝะฝะธ-ะัั ะปัะฑะธั ะฒะตัะตัะบะพะผ ะฒะพ ััะพ-ะฝะธะฑัะดั ะฟะพะธะณัะฐัั,  ะฐ
	ะธะฝะพะณะดะฐ,  ะพัะพะฑะตะฝะฝะพ  ะบะพะณะดะฐ  ะฟะฐะฟะฐ  ะดะพะผะฐ,  ะพะฝ ะฑะพะปััะต ะปัะฑะธั ัะธัะพะฝัะบะพ
	ะฟะพัะธะดะตัั ั ะพะณะฝั ะธ ะฟะพัะปััะฐัั ะบะฐะบัั-ะฝะธะฑัะดั ะธะฝัะตัะตัะฝัั ัะบะฐะทะบั.
		ะ ััะพั ะฒะตัะตั...`

var smiles = ` ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐ ๐คฅ ๐ฅต ๐ ๐ ๐ 
๐ ๐คฅ ๐ ๐  ,   ๐๐  ๐-๐ ๐-๐ ๐-๐ ๐-๐ - ๐-๐
	๐ ๐คฅ ๐ ๐ ๐ ๐ ๐  ๐ฆท ๐ซ ๐ง ๐ฆด ๐ซ 	๐ง ๐ฆท ๐โโ๏ธ ๐งโ๐ฆฐ 	๐โโ๏ธ ๐ฉโ๐ฆฐ โ๏ธ 	๐โโ๏ธ ๐ฐ ๐โโ๏ธ`

func TestTop10(t *testing.T) {
	t.Run("example task", func(t *testing.T) {
		expected := []string{
			"and",     // 2
			"one",     // 2
			"cat",     // 1
			"cats",    // 1
			"dog",     // 1
			"dog,two", // 1
			"man",     // 1
		}
		require.Equal(t, expected, Top10("cat and dog one dog,two cats and one man"))
	})

	t.Run("set of smiles", func(t *testing.T) {
		expected := []string{
			"๐",   // 8
			"๐-๐", // 5
			"๐",   // 4
			"๐",   // 3
			"๐คฅ",   // 3
			"๐",   // 2
			"๐",   // 2
			"๐ฆท",   // 2
			"๐ง",   // 2
			",",   // 1
		}
		require.Equal(t, expected, Top10(smiles))
	})

	t.Run("positive test", func(t *testing.T) {
		if taskWithAsteriskIsCompleted {
			expected := []string{
				"ะฐ",         // 8
				"ะพะฝ",        // 8
				"ะธ",         // 6
				"ัั",        // 5
				"ััะพ",       // 5
				"ะฒ",         // 4
				"ะตะณะพ",       // 4
				"ะตัะปะธ",      // 4
				"ะบัะธััะพัะตั", // 4
				"ะฝะต",        // 4
			}
			require.Equal(t, expected, Top10(text))
		} else {
			expected := []string{
				"ะพะฝ",        // 8
				"ะฐ",         // 6
				"ะธ",         // 6
				"ัั",        // 5
				"ััะพ",       // 5
				"-",         // 4
				"ะัะธััะพัะตั", // 4
				"ะตัะปะธ",      // 4
				"ะฝะต",        // 4
				"ัะพ",        // 4
			}
			require.Equal(t, expected, Top10(text))
		}
	})

	t.Run("no words in empty string", func(t *testing.T) {
		require.Len(t, Top10(""), 0)
	})
}
